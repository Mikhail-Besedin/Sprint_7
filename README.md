# Sprint_7
Автотесты для тестирования API учебного сервиса «Яндекс.Самокат».

Проект состоит из:

allure_results- отчёт в Allure
tests — папка с тестами
couriers — папка c тестами создания и авторизации курьеров
orders -папка с тестами создания заказов и получения списка заказов 
data.py — константы
conftest.py — файл с важными для запуска автотестов фикстурами
helpers.py - файл с вспомогательными функциями 


Мы проверям в своих автотестах ручки:

1) Создание курьера
#### Проверяем:
  - курьера можно создать;запрос возвращает правильный код ответа; успешный запрос возвращает {"ok":true};
  - нельзя создать двух одинаковых курьеров;
  - чтобы создать курьера, нужно передать в ручку все обязательные поля;если одного из полей нет, запрос возвращает ошибку;
  - если создать пользователя с логином, который уже есть, возвращается ошибка.
2) Логин курьера 
#### Проверяем:
  - курьер может авторизоваться;успешный запрос возвращает id.
  - для авторизации нужно передать все обязательные поля,если какого-то поля нет, запрос возвращает ошибку;
  - если авторизоваться под несуществующим пользователем, запрос возвращает ошибку;
  
3) Создание заказа
#### Проверяем, что, когда создаёшь заказ:
  - можно указать один из цветов — BLACK или GREY;
  - можно указать оба цвета;
  - можно совсем не указывать цвет;
  - тело ответа содержит track.

4) Список заказов
  - Проверяем, что в тело ответа возвращается список заказов. 


Запуск тестов в проекте:
```
pytest -v tests
```
Чтобы сгенерировать Allure-отчёт:
````
pytest tests --alluredir=allure_results 
````

Cформировать отчёт в формате веб-страницы:
````
allure serve allure_results 
````